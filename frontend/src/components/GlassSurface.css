.glass-surface {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  transition: opacity 0.26s ease-out;
}

.glass-surface__filter {
  width: 100%;
  height: 100%;
  pointer-events: none;
  position: absolute;
  inset: 0;
  opacity: 0;
  z-index: -1;
}

.glass-surface--svg .glass-surface__filter {
  opacity: 0;
}

.glass-surface__content {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: inherit;
  position: relative;
  z-index: 1;
}

.glass-surface__content--no-padding {
  padding: 0;
  align-items: stretch;
  justify-content: flex-start;
}

.glass-surface--svg {
  background: light-dark(hsl(0 0% 100% / var(--glass-frost, 0)), hsl(0 0% 0% / var(--glass-frost, 0)));
  backdrop-filter: var(--filter-id, url(#glass-filter)) saturate(var(--glass-saturation, 1));
  -webkit-backdrop-filter: var(--filter-id, url(#glass-filter)) saturate(var(--glass-saturation, 1));
  box-shadow:
    0 0 2px 1px light-dark(color-mix(in oklch, black, transparent 85%), color-mix(in oklch, white, transparent 65%))
      inset,
    0 0 10px 4px light-dark(color-mix(in oklch, black, transparent 90%), color-mix(in oklch, white, transparent 85%))
      inset,
    0px 4px 16px rgba(17, 17, 26, 0.05),
    0px 8px 24px rgba(17, 17, 26, 0.05),
    0px 16px 56px rgba(17, 17, 26, 0.05),
    0px 4px 16px rgba(17, 17, 26, 0.05) inset,
    0px 8px 24px rgba(17, 17, 26, 0.05) inset,
    0px 16px 56px rgba(17, 17, 26, 0.05) inset;
}

/* ios kontora pidorasov */
@supports (-webkit-touch-callout: none) {
  .glass-surface--svg {
    backdrop-filter: blur(20px) saturate(var(--glass-saturation, 1));
    -webkit-backdrop-filter: blur(20px) saturate(var(--glass-saturation, 1));
  }
}

.glass-surface--fallback {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.35) 0%,
    rgba(255, 255, 255, 0.25) 50%,
    rgba(255, 255, 255, 0.3) 100%
  );
  backdrop-filter: blur(16px) saturate(1.8) brightness(1.15) contrast(1.05);
  -webkit-backdrop-filter: blur(16px) saturate(1.8) brightness(1.15) contrast(1.05);
  border: 1px solid rgba(255, 255, 255, 0.35);
  box-shadow:
    0 8px 32px 0 rgba(31, 38, 135, 0.25),
    0 4px 16px 0 rgba(31, 38, 135, 0.15),
    0 2px 8px 0 rgba(31, 38, 135, 0.1),
    inset 0 1px 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 1px 0 rgba(255, 255, 255, 0.3),
    inset 0 0 60px 0 rgba(255, 255, 255, 0.08);
  position: relative;
}

.glass-surface--fallback::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.2) 0%,
    transparent 70%
  );
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;
}

.glass-surface--fallback::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.15) 0%,
    transparent 50%,
    rgba(0, 0, 0, 0.03) 100%
  );
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;
}

@media (prefers-color-scheme: dark) {
  .glass-surface--fallback {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.15) 0%,
      rgba(255, 255, 255, 0.08) 50%,
      rgba(255, 255, 255, 0.12) 100%
    );
    backdrop-filter: blur(16px) saturate(1.8) brightness(1.25) contrast(1.1);
    -webkit-backdrop-filter: blur(16px) saturate(1.8) brightness(1.25) contrast(1.1);
    border: 1px solid rgba(255, 255, 255, 0.25);
    box-shadow:
      0 8px 32px 0 rgba(0, 0, 0, 0.3),
      0 4px 16px 0 rgba(0, 0, 0, 0.2),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.25),
      inset 0 -1px 1px 0 rgba(255, 255, 255, 0.15),
      inset 0 0 60px 0 rgba(255, 255, 255, 0.05);
  }

  .glass-surface--fallback::before {
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.12) 0%,
      transparent 70%
    );
  }

  .glass-surface--fallback::after {
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.08) 0%,
      transparent 50%,
      rgba(0, 0, 0, 0.1) 100%
    );
  }
}

@supports not (backdrop-filter: blur(10px)) {
  .glass-surface--fallback {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.5) 0%,
      rgba(255, 255, 255, 0.4) 100%
    );
    box-shadow:
      0 8px 32px 0 rgba(31, 38, 135, 0.2),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.6),
      inset 0 -1px 0 0 rgba(255, 255, 255, 0.4);
  }

  .glass-surface--fallback::before {
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.25) 0%,
      transparent 70%
    );
  }
}

@supports not (backdrop-filter: blur(10px)) {
  @media (prefers-color-scheme: dark) {
    .glass-surface--fallback {
      background: linear-gradient(
        135deg,
        rgba(0, 0, 0, 0.5) 0%,
        rgba(0, 0, 0, 0.4) 100%
      );
    }

    .glass-surface--fallback::before {
      background: radial-gradient(
        circle at 30% 30%,
        rgba(255, 255, 255, 0.08) 0%,
        transparent 70%
      );
    }
  }
}

.glass-surface:focus-visible {
  outline: 2px solid light-dark(#007aff, #0a84ff);
  outline-offset: 2px;
}

